#!/bin/bash

#-----------------------------------------------------------
# NAME         :  sl
# AUTHOR       :  Adrien CARBONARO
# UPDATE       :  07/01/2019
# DESCRIPTION  :  Screenlock script using i3lock
# PARAMETERS   :  none
#-----------------------------------------------------------

B='#00000000'  # blank
C='#606060FF'
D='#96B7CEcc'
T='#FF00FFcc'  # text
W='#FF5555FF'  # wrong
V='#FF00FFcc'  # verifying

# Take a screenshot of the screen
scrot /tmp/screen.png

# Create the pixel effect on the screenshot
convert -scale 10% -scale 1000% /tmp/screen.png /tmp/screen.png

# Pause Spotify
if [ -f sp ]; then
  sp pause
fi

# Turn on i3lock program with the screenshot as background
i3lock-color \
-i /tmp/screen.png    \
--insidever-color=$C   \
--ringver-color=$D     \
\
--insidewrong-color=$C \
--ringwrong-color=$W   \
\
--inside-color=$C      \
--ring-color=$D        \
--line-color=$B        \
--separator-color=$D   \
\
--verif-color=$D        \
--wrong-color=$D        \
--time-color=$D        \
--date-color=$D        \
--layout-color=$D      \
--keyhl-color=$W       \
--bshl-color=$W        \
\
--clock               \
--indicator           \
--time-str="%H:%M:%S"  \
--date-str="%A, %m %Y"

# Remove the screeshot when login
rm /tmp/screen.png
